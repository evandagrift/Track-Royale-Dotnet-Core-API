(this["webpackJsonpclash-codex"]=this["webpackJsonpclash-codex"]||[]).push([[0],{28:function(e,t,n){e.exports={battle:"Battle_battle__clVek",leftPanel:"Battle_leftPanel__1ClR2",centerPanel:"Battle_centerPanel__Oikhg",rightPanel:"Battle_rightPanel__1YFbS"}},32:function(e,t,n){e.exports={deck:"Deck_deck__25ES_"}},33:function(e,t,n){e.exports={backgroundImage:"HomePage_backgroundImage__3jFDY",greeting:"HomePage_greeting__3joI1",chestCollection:"HomePage_chestCollection__3V6E6"}},40:function(e,t,n){e.exports={collection:"ChestCollection_collection__wWgeK",chestbox:"ChestCollection_chestbox__3A-EW"}},57:function(e,t,n){e.exports={card:"Card_card__ix-8N"}},58:function(e,t,n){e.exports={battleCollection:"BattleCollection_battleCollection__pTTfV"}},59:function(e,t,n){e.exports={chest:"Chest_chest__1-tD2"}},60:function(e,t,n){e.exports={clickableRow:"ClanPlayer_clickableRow__1M51f"}},65:function(e,t,n){},66:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(25),r=n.n(s),i=(n(65),n(6)),l=(n.p,n(66),n(11)),o=Object(a.createContext)("default"),j=n(102),b=n(103),h=n(0),u=function(){var e=Object(a.useContext)(o),t=e.user;e.setUser;null!=t?(l.b,l.b,l.b):(l.b,l.b);var n=Object(h.jsx)("div",{children:Object(h.jsxs)(j.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top",className:"p-2",children:[Object(h.jsx)(l.b,{to:"/",className:"navbar-brand",children:"Codex Royale"}),Object(h.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(j.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:Object(h.jsxs)(b.a,{className:"mr-auto",children:[Object(h.jsx)(l.b,{to:"/Login",className:"nav-link",children:"Login"}),Object(h.jsx)(l.b,{to:"/Register",className:"nav-link",children:"Register"}),Object(h.jsx)(l.b,{to:"/Contact",className:"nav-link",children:"Contact"})]})})]})}),c="";return c=null!=t?Object(h.jsx)("div",{children:Object(h.jsxs)(j.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top",className:"p-2",children:[Object(h.jsx)(l.b,{to:"/",className:"navbar-brand",children:"Codex Royale"}),Object(h.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(j.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-start",children:Object(h.jsxs)(b.a,{className:"mr-auto",children:[Object(h.jsx)(l.b,{to:"/Player",className:"nav-link",children:"Player"}),Object(h.jsx)(l.b,{to:"/Clan",className:"nav-link",children:"Clan"})]})}),Object(h.jsx)(j.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:Object(h.jsxs)(b.a,{className:"mr-auto",children:[Object(h.jsx)(l.b,{to:"/Settings",className:"nav-link",children:"Settings"}),Object(h.jsx)(l.b,{to:"/Contact",className:"nav-link",children:"Contact"})]})})]})}):n,Object(h.jsx)("div",{children:c})},d=n(56),p=n.n(d),O={};localStorage.user&&(O.Authorization="bearer ".concat(localStorage.user.token));var x=p.a.create({baseURL:"https://www.royaletracker.com/api/",headers:O}),m=n(4),v=n(5),f=n(8),g=n(7),C=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={},a}return Object(v.a)(n,[{key:"render",value:function(){var e=Object(h.jsxs)("div",{className:"card p-2",children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("b",{children:"Password"}),Object(h.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",onChange:this.props.passwordChangeValue})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("b",{children:"Re-Enter Password"}),Object(h.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",onChange:this.props.password2ChangeValue})]})]});return Object(h.jsx)("div",{children:e})}}]),n}(a.Component),y=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),l=r[0],j=r[1],b=Object(a.useState)(""),u=Object(i.a)(b,2),d=u[0],p=u[1],O=Object(a.useState)(""),m=Object(i.a)(O,2),v=(m[0],m[1]),f=Object(a.useState)(""),g=Object(i.a)(f,2),y=g[0],k=g[1],w=Object(a.useState)(!1),N=Object(i.a)(w,2),T=N[0],S=N[1],P=Object(a.useState)(),R=Object(i.a)(P,2),_=R[0],I=R[1],D=Object(a.useContext)(o),L=(D.user,D.setUser,function(e){x.post("Users/signup",{Username:n,Password:d,Email:l,Tag:y}).then((function(e){0==e.status?I(!0):S(!0)}),(function(e){console.log(e)}))}),U=Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:Object(h.jsx)("b",{children:"Username"})}),Object(h.jsx)("input",{type:"username",id:"inputUsername",className:"form-control",placeholder:"Username",onChange:function(e){return c(e.target.value)},required:!0}),Object(h.jsx)("span",{children:Object(h.jsx)("b",{children:"Email"})}),Object(h.jsx)("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email",onChange:function(e){return j(e.target.value)},required:!0})]}),$=Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:Object(h.jsx)("b",{children:"Clash Royale Tag"})}),Object(h.jsx)("input",{id:"inputTag",className:"form-control",placeholder:"#3x4mp13",onChange:function(e){return k(e.target.value)},required:!0})]}),B=Object(h.jsx)("button",{className:"w-100 btn btn-lg btn-primary m-1",onClick:L,children:"Register"}),E=Object(h.jsx)("button",{className:"w-60 btn btn-sm btn-primary m-1",onClick:L,children:"Resend Verification Link"});var W="";return W=0==T?Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please Register"}),U,Object(h.jsx)(C,{passwordChangeValue:function(e){return p(e.target.value)},password2ChangeValue:function(e){return v(e.target.value)}}),$,B]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Check your email for your verifcation link"}),Object(h.jsx)("div",{children:E})]}),Object(h.jsx)("div",{children:W})},k=n(3),w=n.n(k),N=n(9),T=n(57),S=n.n(T),P=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){return Object(m.a)(this,n),t.call(this,e)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.card;return e?Object(h.jsx)("div",{className:S.a.card,children:Object(h.jsx)("img",{src:e.Url},"$id-"+e.Id)}):Object(h.jsx)("div",{})}}]),n}(a.Component),R=n(32),_=n.n(R),I=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={},a}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.deck;return e?Object(h.jsxs)("div",{className:_.a.deck,children:[Object(h.jsxs)("div",{className:_.a.row,children:[Object(h.jsx)(P,{card:e.Card1},"$id"+e.Card1Id),Object(h.jsx)(P,{card:e.Card2},"$id"+e.Card2Id),Object(h.jsx)(P,{card:e.Card3},"$id"+e.Card3Id),Object(h.jsx)(P,{card:e.Card4},"$id"+e.Card4Id)]}),Object(h.jsxs)("div",{className:_.a.row,children:[Object(h.jsx)(P,{card:e.Card5},"$id"+e.Card5Id),Object(h.jsx)(P,{card:e.Card6},"$id"+e.Card6Id),Object(h.jsx)(P,{card:e.Card7},"$id"+e.Card7Id),Object(h.jsx)(P,{card:e.Card8},"$id"+e.Card8Id)]})]}):Object(h.jsx)("div",{})}}]),n}(a.Component);function D(e){var t="",n="";return e&&(n="%23"==(t=e.substring(0,3))?e:"#"==t[0]?"%23"+e.substring(1):"%23"+e),n.toUpperCase()}function L(e){if(e.length>0){var t=e.substring(0,4),n=e.substring(4,6),a=e.substring(6,8),c=e.substring(9,11),s=e.substring(11,13),r=e.substring(14,15),i=new Date(t,n-1,a,c,s,r,0),l=i.toDateString();return l=l+", "+(i.toTimeString().substring(0,8)+" UTC")}return null}function U(e){return $.apply(this,arguments)}function $(){return($=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.post("Users/ResetPassword/"+t).then((function(e){return e.data}),(function(e){})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return E.apply(this,arguments)}function E(){return(E=Object(N.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.post("Users/ResetPassword/Authenticate",{password:t,passwordResetCode:n}).then((function(e){return e.data}),(function(e){})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={},a}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.time,t="";e&&(t=L(e));return Object(h.jsx)("h4",{children:t})}}]),n}(a.Component),A=n(28),q=n.n(A),M=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={},a}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.battle;if(0==e.Team1DeckBId&&0!=e.Team1DeckAId){var t="",n="";return e.Team1Crowns>e.Team2Crowns?(t="Winner",n="Loser"):(t="Loser",n="Winner"),Object(h.jsxs)("div",{className:q.a.battle,children:[Object(h.jsxs)("div",{id:"left-panel",className:q.a.leftPanel,children:[Object(h.jsx)("h1",{children:e.Team1Name}),Object(h.jsx)("p",{children:Object(h.jsx)("b",{children:t})}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Crowns:"}),e.Team1Crowns]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Trophies:"}),e.Team1StartingTrophies,Object(h.jsxs)("i",{children:["(","Winner"==t?"+"+e.Team1TrophyChange:e.Team1TrophyChange,")"]})]}),Object(h.jsx)(I,{deck:e.Team1DeckA})]}),Object(h.jsxs)("div",{id:"center-panel",className:q.a.centerPanel,children:[Object(h.jsx)("h1",{children:"VS"}),Object(h.jsx)(W,{time:e.BattleTime})]}),Object(h.jsxs)("div",{id:"right-panel",className:q.a.rightPanel,children:[Object(h.jsx)("h1",{children:e.Team2Name}),Object(h.jsx)("p",{children:Object(h.jsx)("b",{children:n})}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Crowns:"})," ",e.Team2Crowns]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Trophies:"}),e.Team2StartingTrophies,Object(h.jsxs)("i",{children:["(","Winner"==n?"+"+e.Team2TrophyChange:e.Team2TrophyChange,")"]})]}),Object(h.jsx)(I,{deck:e.Team2DeckA})]})]})}return null}}]),n}(a.Component);function F(e,t){return V.apply(this,arguments)}function V(){return(V=Object(N.a)(w.a.mark((function e(t,n){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("Users/login",{Username:t,Password:n});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function J(){return G.apply(this,arguments)}function G(){return(G=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("battles");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function H(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(N.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=D(t),e.next=4,x.get("clans/"+n);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function z(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(N.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return e.prev=1,n=D(t),e.next=5,x.get("battles/player/"+n);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return(X=Object(N.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("players/chests/"+D(t),{});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(N.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("players/"+D(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var te=n(58),ne=n.n(te),ae=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={battles:[]},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t,n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.playerTag)){e.next=8;break}return e.next=4,z(t);case 4:(n=e.sent)&&this.setState({battles:n}),e.next=12;break;case 8:return e.next=10,J();case 10:(a=e.sent)&&this.setState({battles:a});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(h.jsx)("h2",{children:"Loading Battles..."}),t=[];return this.state.battles&&(t=this.state.battles.map((function(e,t){return Object(h.jsx)(M,{battle:e},"$battle-"+t)}))),t.length>0&&(e=Object(h.jsx)("h2",{children:"Recently Recorded Battles"})),Object(h.jsxs)("div",{className:ne.a.battleCollection,children:[e,t]})}}]),n}(a.Component),ce=(n(94),n(12)),se=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={searching:"player",playerClass:"nav-link active",clanClass:"nav-link text-light "},a}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=Object(h.jsx)("div",{children:Object(h.jsxs)("ul",{className:"nav nav-tabs border-0",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("button",{className:this.state.playerClass,onClick:function(){e.props.playerSearchSelect(),e.setState({playerClass:"nav-link active",clanClass:"nav-link text-light",searching:"player"})},children:"Player"},"$playerButton")}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("button",{className:this.state.clanClass,onClick:function(){e.props.clanSearchSelect(),e.setState({playerClass:"nav-link text-light",clanClass:"nav-link active",searching:"clan"})},children:"Clan"},"$clanButton")})]})});return Object(h.jsx)("div",{children:t})}}]),n}(a.Component),re=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={searching:"player",searchInput:"",validTag:"false",searchPlaceholder:"#29PGJURQL",playerClass:"nav-link active",clanClass:"nav-link",redirect:!1},a}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=Object(h.jsxs)("form",{onSubmit:this.search,children:[Object(h.jsx)("input",{onChange:function(t){return e.setState({searchInput:t.target.value})},className:"form-control",placeholder:this.state.searchPlaceholder},"$search-input"),Object(h.jsxs)("button",{className:"btn-dark mt-2 mb-3",onClick:function(t){e.setState({searchInput:D(e.state.searchInput),redirect:!0})},children:["Get ",this.state.searching," Data"]},"$search-button")]},"$playerForm");return this.state.redirect?Object(h.jsx)(ce.a,{push:!0,to:"/"+this.state.searching+"/"+this.state.searchInput}):Object(h.jsxs)("div",{className:"home-search",children:[Object(h.jsx)("h2",{children:"Search For Player or Clan"}),Object(h.jsxs)("p",{children:[Object(h.jsx)(se,{playerSearchSelect:function(t){return e.setState({searching:"player",searchPlaceholder:"#29PGJURQL"})},clanSearchSelect:function(t){return e.setState({searching:"clan",searchPlaceholder:"#8CYPL8R"})}}),t]})]})}}]),n}(a.Component),ie=(n(96),n(59)),le=n.n(ie),oe=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={},a}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.chest;if(e.Name)return Object(h.jsxs)("div",{className:le.a.chest,children:[Object(h.jsx)("strong",{children:e.Index+1})," ",Object(h.jsx)("img",{src:e.Url},"$id"+e.Index),Object(h.jsx)("p",{children:e.Name})]})}}]),n}(a.Component),je=n(40),be=n.n(je),he=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={chestCollection:[]},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.playerTag)){e.next=11;break}return e.prev=2,e.next=5,K(D(t));case 5:n=e.sent,this.setState({chestCollection:n}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="",t=Object(h.jsx)("h2",{children:"Loading Upcoming Chests"});return this.state.chestCollection&&this.state.chestCollection.length>0&&(t=Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("h2",{children:"Upcoming Chests"})," ",Object(h.jsx)("p",{children:"(you need x number of wins to gain the below chests)"})]}),e=this.state.chestCollection.map((function(e){return Object(h.jsx)(oe,{chest:e},"$chest-+"+e.Index)}))),Object(h.jsxs)("div",{className:be.a.collection,children:[t,Object(h.jsx)("div",{className:be.a.chestbox,children:e},"$chest-collection")]})}}]),n}(a.Component),ue=n(33),de=n.n(ue),pe=function(){var e=Object(a.useContext)(o),t=e.user,n=(e.setUser,""),c=Object(h.jsx)(ae,{}),s=Object(h.jsx)(re,{}),r="";return t&&(n=Object(h.jsxs)("div",{className:de.a.chestCollection,children:[" ",Object(h.jsx)(he,{playerTag:t.tag})]}),r=Object(h.jsx)("div",{className:de.a.greeting,children:Object(h.jsxs)("h1",{children:["Welcome ",t.username]})})),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:de.a.backgroundImage,children:[r,n,s]}),c]})},Oe=function(){var e=Object(a.useContext)(o),t=e.user,n=(e.setUser,Object(a.useState)("")),c=Object(i.a)(n,2),s=(c[0],c[1],Object(a.useState)("")),r=Object(i.a)(s,2),j=r[0],b=r[1],u=Object(a.useState)(""),d=Object(i.a)(u,2),p=d[0],O=d[1],m=Object(a.useState)(""),v=Object(i.a)(m,2),f=v[0],g=v[1],C=Object(a.useState)(""),y=Object(i.a)(C,2),k=y[0],w=y[1];return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={headers:{Authorization:"bearer ".concat(t.token)}};x.put("Users",{Username:t.username,Password:t.password,Token:t.token,Email:j,Tag:f,ClanTag:k,Role:p},n).then((function(e){}),(function(e){console.log(e)}))},children:[Object(h.jsxs)("h1",{className:"h3 mb-3 fw-normal",children:["Change your profile settings: ",Object(h.jsx)("b",{children:t.username})," "]}),Object(h.jsxs)("label",{children:["Email",Object(h.jsx)("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:t.email,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(h.jsxs)("label",{children:["Tag",Object(h.jsx)("input",{type:"tag",id:"inputTag",className:"form-control",placeholder:t.tag,onChange:function(e){return g(e.target.value)},required:!0})]}),Object(h.jsxs)("label",{children:["ClanTag",Object(h.jsx)("input",{type:"clantag",id:"inputClanTag",className:"form-control",placeholder:t.clanTag,onChange:function(e){return w(e.target.value)},required:!0})]}),Object(h.jsxs)("label",{children:["Role",Object(h.jsx)("input",{type:"role",id:"inputRole",className:"form-control",placeholder:t.role,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsx)(l.b,{className:"link",to:"/logintest",children:"change password"}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{className:"w-100 m-2 btn btn-lg btn-primary",type:"submit",children:"Update User"})]})})},xe=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={player:[]},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.playerTag,e.prev=1,e.next=4,Z(t);case 4:(n=e.sent)?this.setState({player:n}):this.setState({redirect:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({redirect:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="";return this.state.redirect?Object(h.jsx)(ce.a,{to:"/"}):(e=this.state.player&&this.state.player.Name?Object(h.jsx)("div",{className:"card",children:Object(h.jsx)("div",{className:"card-body text-center",children:Object(h.jsxs)("div",{className:"row d-inline-flex text-center",children:[Object(h.jsxs)("div",{className:"col",children:[Object(h.jsxs)("div",{className:"row d-inline-flex",children:[Object(h.jsx)("h1",{className:"d-inline",children:this.state.player.Name}),Object(h.jsxs)("h6",{className:"d-inline",children:["(Lvl.",this.state.player.ExpLevel,")"]}),Object(h.jsx)("p",{className:"d-inline",children:Object(h.jsxs)("i",{children:["Tag:",this.state.player.Tag]})})]}),Object(h.jsx)("p",{className:"text-center m-0",children:Object(h.jsx)("b",{children:"Current Deck"})}),Object(h.jsx)(I,{deck:this.state.player.Deck}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Last Seen:"}),null!=this.state.player.Clan?Object(h.jsx)(W,{time:this.state.player.LastSeen}):"Unkown"]})]}),Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Trophies:"}),this.state.player.Trophies]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Best Trophies:"}),this.state.player.BestTrophies]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Wins:"}),this.state.player.Wins]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Losses:"}),this.state.player.Losses]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Three Crown Wins:"}),this.state.player.ThreeCrownWins]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Star Points:"}),this.state.player.StarPoints]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Cards Discovered:"}),this.state.player.CardsDiscovered]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Total Games:"}),this.state.player.BattleCount]})]})}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Clan Name:"}),null!=this.state.player.Clan?this.state.player.Clan.Name:"Not In A Clan"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Clan Tag:"}),null!=this.state.player.Clan?this.state.player.ClanTag:"Not In A Clan"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Role:"}),null!=this.state.player.Clan?this.state.player.Role:"Not In A Clan"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Recent Donations:"}),null!=this.state.player.Clan?this.state.player.Donations:"Not In A Clan"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Recent Donations Recieved:"}),null!=this.state.player.Clan?this.state.player.DonationsReceived:"Not In A Clan"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Total Donations:"}),null!=this.state.player.Clan?this.state.player.TotalDonations:"Not In A Clan"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Total Donations Recieved:"}),null!=this.state.player.Clan?this.state.player.ClanCardsCollected:"Not In A Clan"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"War Day Wins:"}),null!=this.state.player.Clan?this.state.player.WarDayWins:"Not In A Clan"]})]})]})})}):Object(h.jsx)("h1",{children:"Loading Player Data"}),Object(h.jsx)("div",{children:e}))}}]),n}(a.Component),me=function(){var e=Object(ce.f)().playerTag,t=Object(a.useContext)(o),n=t.user,c=(t.setUser,Object(a.useState)("")),s=Object(i.a)(c,2),r=s[0],l=s[1],j=Object(a.useState)(""),b=Object(i.a)(j,2);b[0],b[1];return Object(a.useEffect)(Object(N.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!=e?l(e):n&&""!=n.tag&&l(n.tag);case 1:case"end":return t.stop()}}),t)}))),[]),r?Object(h.jsxs)("div",{children:[Object(h.jsx)(he,{playerTag:r}),Object(h.jsx)(xe,{playerTag:r}),Object(h.jsx)(ae,{playerTag:r})]}):Object(h.jsx)("h1",{children:"Loading..."})},ve=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),l=r[0],j=r[1],b=Object(a.useContext)(o),u=b.user,d=b.setUser,p=(b.player,b.setPlayer,""),O=function(){var e=Object(N.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=!1,document.getElementById("stayLoggedIn").checked&&(a=!0),e.next=5,F(n,l);case 5:c=e.sent,d(c),a&&null!=c&&localStorage.setItem("user",JSON.stringify(c));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p=null==u?Object(h.jsxs)("form",{className:"d-inline-block",onSubmit:O,children:[Object(h.jsx)("h1",{className:"h3 mb-3",children:"Clash Codex Login"}),Object(h.jsx)("input",{type:"username",id:"inputUsername",className:"form-control",placeholder:"Username",onChange:function(e){return c(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",onChange:function(e){return j(e.target.value)},required:!0}),Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("input",{id:"stayLoggedIn",type:"checkbox"})," stay logged in"]}),Object(h.jsx)("button",{className:"w-100 btn btn-lg btn-primary m-2",type:"submit",children:"Sign in"}),Object(h.jsx)("p",{children:Object(h.jsx)("a",{href:"/forgotpassword",children:"i forgot my password"})})]}):Object(h.jsx)(ce.a,{to:"/"}),Object(h.jsx)("div",{children:p})},fe=(n(95),n(60)),ge=n.n(fe),Ce=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={redirect:!1},a}return Object(v.a)(n,[{key:"handleClick",value:function(){this.setState({redirect:!0})}},{key:"render",value:function(){var e=this.props.clanPlayer;return this.state.redirect?Object(h.jsx)(ce.a,{to:"/player/"+D(e.Tag)}):e?Object(h.jsxs)("tr",{className:ge.a.clickableRow,onClick:this.handleClick.bind(this),children:[Object(h.jsx)("th",{scope:"row",children:e.Name}),Object(h.jsx)("td",{children:e.Tag}),Object(h.jsx)("td",{children:e.ExpLevel}),Object(h.jsx)("td",{children:e.Trophies}),Object(h.jsx)("td",{children:e.Role}),Object(h.jsx)("td",{children:L(e.LastSeen)}),Object(h.jsx)("td",{children:e.Donations}),Object(h.jsx)("td",{children:e.DonationsReceived})]}):Object(h.jsx)(h.Fragment,{})}}]),n}(a.Component),ye=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={},a}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.clanPlayerCollection,t="";return null!=e&&(t=e.map((function(e){return Object(h.jsx)(Ce,{clanPlayer:e},"$player-list-"+e.Tag)}))),Object(h.jsx)("div",{className:"table-responsive",children:Object(h.jsxs)("table",{className:"table table-hover",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:" Name"}),Object(h.jsx)("th",{scope:"col",children:" Tag"}),Object(h.jsx)("th",{scope:"col",children:" Level "}),Object(h.jsx)("th",{scope:"col",children:" Trophies "}),Object(h.jsx)("th",{scope:"col",children:" Role "}),Object(h.jsx)("th",{scope:"col",children:" Last Seen "}),Object(h.jsx)("th",{scope:"col",children:" Donated "}),Object(h.jsx)("th",{scope:"col",children:" Donations Recieved "})]})}),Object(h.jsx)("tbody",{children:t})]},"$player-collection")})}}]),n}(a.Component),ke=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={clan:[],redirect:!1},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.clanTag)){e.next=6;break}return e.next=4,H(t);case 4:void 0!=(n=e.sent)?this.setState({clan:n}):this.setState({redirect:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="",t="";return this.state.redirect?Object(h.jsx)(ce.a,{to:"/"}):this.state.clan&&this.state.clan.Name?(e=Object(h.jsxs)("div",{className:" m-0",children:[Object(h.jsx)("h1",{children:this.state.clan.Name}),Object(h.jsxs)("h6",{children:[Object(h.jsx)("b",{children:"Tag:"}),this.state.clan.Tag]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Members:"}),this.state.clan.Members,"/50"]}),Object(h.jsx)("p",{children:Object(h.jsx)("b",{children:this.state.clan.Description})}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Required Trophies:"}),this.state.clan.RequiredTrophies]}),Object(h.jsxs)("div",{className:"col ",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Donations Per Week:"}),this.state.clan.DonationsPerWeek]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Clan War Trophies:"}),this.state.clan.ClanWarTrophies]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Clan Chest Level:"}),this.state.clan.ClanChestLevel]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Clan Chest Status:"}),this.state.clan.ClanChestStatus]})]}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Type:"}),this.state.clan.Type]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Location Code:"}),this.state.clan.LocationCode]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Badge Id:"}),this.state.clan.BadgeId]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Clan Score:"}),this.state.clan.ClanScore]})]})]}),this.state.clan&&this.state.clan.MemberList&&(t=Object(h.jsx)(ye,{clanPlayerCollection:this.state.clan.MemberList})),Object(h.jsxs)("div",{children:[e,t]})):Object(h.jsx)("h1",{children:"Loading Clan Data, This May Take Some Time"})}}]),n}(a.Component),we=function(){var e=Object(a.useContext)(o),t=e.user,n=(e.setUser,Object(a.useState)("")),c=Object(i.a)(n,2),s=c[0],r=c[1],l=Object(a.useState)(!1),j=Object(i.a)(l,2),b=(j[0],j[1]),u=Object(ce.f)().clanTag;Object(a.useEffect)((function(){void 0!=u?r(u):t&&""!=t.clanTag?r(t.clanTag):b(!0)}),[]);var d=Object(h.jsx)("h1",{children:"Loading..."}),p=Object(h.jsx)(ke,{clanTag:s});if(p)return s?p:d},Ne=function(){var e=Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Contact"}),Object(h.jsxs)("p",{children:["Hi, we'd love to hear from you. If you find a bug or have a feature you would to see implemented you can email me at ",Object(h.jsx)("a",{href:"mailto:clashroyaletracker@gmail.com",children:"clashroyaletracker@gmail.com"})]})]});return Object(h.jsx)("div",{className:"p-1",children:e})},Te=function(){var e=Object(a.useContext)(o),t=(e.user,e.setUser),n=Object(ce.f)().verificationCode,c=Object(a.useState)(!1),s=Object(i.a)(c,2),r=s[0],l=s[1],j=function(){var e=Object(N.a)(w.a.mark((function e(a){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n,e.next=3,x.post("Users/VerifyAccount/"+c).then((function(e){t(e.data)}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b="verifying account";return r?b=Object(h.jsx)(ce.a,{to:"/"}):(j(),l(!0)),Object(h.jsx)("div",{children:b})},Se=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),l=r[0],j=r[1],b=Object(a.useState)(""),u=Object(i.a)(b,2),d=u[0],p=u[1],O=Object(a.useState)(!1),x=Object(i.a)(O,2),m=x[0],v=x[1],f=Object(a.useState)(!1),g=Object(i.a)(f,2),C=(g[0],g[1]),y=Object(a.useState)(!1),k=Object(i.a)(y,2),T=k[0],S=k[1],P=Object(ce.f)().passwordResetCode,R=Object(a.useContext)(o),_=R.user,I=R.setUser,D=function(){var e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(n),v(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==P){e.next=6;break}return C(!0),e.next=4,B(l,P);case 4:(t=e.sent).username?I(t):S(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$="";if(_)$=Object(h.jsx)("div",{children:Object(h.jsx)(ce.a,{to:"/"})});else if(null!=P){var E=Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:L,children:[Object(h.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",onChange:function(e){return j(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"password",className:"form-control",placeholder:"Re-Enter Password",onChange:function(e){return p(e.target.value)},required:!0})]})}),W="";W=l!=d?Object(h.jsx)("p",{className:"warning-text",children:"passwords do not match"}):"",$=Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Reset Password"}),E,W,Object(h.jsx)("button",{className:"w-100 btn btn-lg btn-primary m-2",onClick:L,children:"Reset Password"})]})}else $=0==m?Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Forgot Password/Username"}),Object(h.jsx)("p",{children:"please enter your email and a link will be sent to recover your account"}),Object(h.jsxs)("form",{onSubmit:D,children:[Object(h.jsx)("input",{type:"email",className:"form-control",placeholder:"Account Email",onChange:function(e){return c(e.target.value)},required:!0}),Object(h.jsx)("button",{className:"w-100 btn btn-lg btn-primary m-2",type:"submit",children:"Reset Password"})]})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Please check your email for the recovery link"}),Object(h.jsx)("button",{className:"w-100 btn btn-lg btn-primary m-2",onClick:D,children:"Resend Reset Link"})]});var A="";return A=T?Object(h.jsx)("div",{children:Object(h.jsx)(ce.a,{to:"/"})}):"",Object(h.jsxs)("div",{children:[$,A]})};var Pe=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return localStorage.getItem("user")&&null==n&&c(JSON.parse(localStorage.getItem("user"))),Object(h.jsx)("div",{className:"form-signin",children:Object(h.jsx)(o.Provider,{value:{user:n,setUser:c},children:Object(h.jsxs)(l.a,{children:[Object(h.jsx)(u,{}),Object(h.jsx)(ce.b,{path:"/",exact:!0,component:pe}),Object(h.jsx)(ce.b,{path:"/login",exact:!0,component:ve}),Object(h.jsx)(ce.b,{path:"/register",exact:!0,component:y}),Object(h.jsx)(ce.b,{path:"/settings",exact:!0,component:Oe}),Object(h.jsx)(ce.b,{path:"/clan",exact:!0,component:we}),Object(h.jsx)(ce.b,{path:"/contact",exact:!0,component:Ne}),Object(h.jsxs)(ce.b,{path:"/clan/:clanTag",children:[" ",Object(h.jsx)(we,{})," "]}),Object(h.jsx)(ce.b,{path:"/player",exact:!0,component:me}),Object(h.jsx)(ce.b,{path:"/player/:playerTag",children:Object(h.jsx)(me,{})}),Object(h.jsx)(ce.b,{path:"/register/authenticate/:verificationCode",children:Object(h.jsx)(Te,{})}),Object(h.jsx)(ce.b,{path:"/forgotpassword/:passwordResetCode",exact:!0,component:Se}),Object(h.jsx)(ce.b,{path:"/forgotpassword",exact:!0,component:Se})]})})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(Pe,{})}),document.getElementById("root")),Re()}},[[97,1,2]]]);
//# sourceMappingURL=main.ce2da923.chunk.js.map